import{d as D,i as P,u as w,k as I,j as V,r as h,o as z,a as s,c as u,b as a,t as i,l as r,g,f as U,w as b,e as o,F as f,D as $,m as F,x as E,z as L}from"./index.dba00b98.js";import{P as M}from"./PropTable.ffd00c30.js";const T=["href"],G=a("i",{class:"fa-regular fa-arrow-up-right-from-square"},null,-1),H={key:0},Q=a("th",null,"Members",-1),O=D({__name:"DatasetView",setup(A){const{namedNode:v}=$,k=P("config").apiBaseUrl,n=F(),c=w(),{store:d,prefixes:x,parseIntoStore:N,qname:l}=I(),{data:R,profiles:S,loading:j,error:_,doRequest:y}=V(),B=[],p=h([]),e=h({});return z(()=>{y(`${k}/s/datasets/${n.params.datasetId}`,()=>{N(R.value);const m=d.value.getSubjects(v(l("a")),v(l("dcat:Dataset")))[0];e.value.iri=m.id,d.value.forEach(t=>{t.predicate.value===l("dcterms:title")?e.value.title=t.object.value:t.predicate.value===l("dcterms:description")&&(e.value.description=t.object.value),t.predicate.annotations=d.value.getQuads(t.predicate,null,null),p.value.push(t)},m,null,null),c.rightNavConfig={enabled:!0,profiles:S,currentUrl:n.path},document.title=`${e.value.title} | Prez`,c.pageHeading={name:"SpacePrez",url:"/s"},c.breadcrumbs=[{name:"SpacePrez",url:"/s"},{name:"Datasets",url:"/s/datasets"},{name:e.value.title,url:n.path}]})}),(m,t)=>{const C=L("RouterLink");return s(),u(f,null,[a("h1",null,i(e.value.title),1),a("p",null,[r("Instance IRI: "),a("a",{href:e.value.iri,target:"_blank",rel:"noopener noreferrer"},[r(i(e.value.iri)+" ",1),G],8,T)]),e.value.description?(s(),u("p",H,i(e.value.description),1)):g("",!0),p.value.length>0?(s(),U(M,{key:1,properties:p.value,prefixes:o(x),hiddenPreds:B},{bottom:b(()=>[a("tr",null,[Q,a("td",null,[E(C,{to:`${o(n).path}/collections`,class:"btn"},{default:b(()=>[r("Collections")]),_:1},8,["to"])])])]),_:1},8,["properties","prefixes"])):o(j)?(s(),u(f,{key:2},[r("loading...")],64)):o(_)?(s(),u(f,{key:3},[r("Network error: "+i(o(_)),1)],64)):g("",!0)],64)}}});export{O as default};
