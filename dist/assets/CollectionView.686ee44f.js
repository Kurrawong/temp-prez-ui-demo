import{d as D,i as L,u as U,k as E,j as F,r as g,o as $,a as l,c as i,b as o,t as n,l as u,g as y,f as C,w as j,e as f,F as _,D as T,m as G,n as H,B as M,p as O,h as Q,_ as A}from"./index.bc5573fc.js";import{P as J}from"./PropTable.89944bcc.js";const x=c=>(O("data-v-52c24ae9"),c=c(),Q(),c),K=["href"],W=x(()=>o("i",{class:"fa-regular fa-arrow-up-right-from-square"},null,-1)),X={key:0},Y=x(()=>o("th",null,"Concepts",-1)),Z={class:"concept-list"},q=D({__name:"CollectionView",setup(c){const{namedNode:p}=T,I=L("config").apiBaseUrl,h=G(),m=U(),{store:s,prefixes:S,parseIntoStore:V,qname:r}=E(),{data:B,profiles:N,loading:P,error:w,doRequest:R}=F(),z=["http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://purl.org/dc/terms/identifier","http://www.w3.org/2004/02/skos/core#definition","http://www.w3.org/2004/02/skos/core#prefLabel","http://www.w3.org/2004/02/skos/core#member"],k=g([]),e=g({}),b=g([]);return $(()=>{R(`${I}/v/collection/${h.params.collectionId}`,()=>{V(B.value);const d=s.value.getSubjects(p(r("a")),p(r("skos:Collection")))[0];e.value.iri=d.id,s.value.forEach(t=>{t.predicate.value===r("skos:prefLabel")?e.value.title=t.object.value:t.predicate.value===r("skos:definition")&&(e.value.description=t.object.value),t.predicate.annotations=s.value.getQuads(t.predicate,null,null),k.value.push(t)},d,null,null),s.value.forObjects(t=>{let a={iri:t.id};s.value.forEach(v=>{v.predicate.value===r("rdfs:label")?a.title=v.object.value:v.predicate.value===r("prez:link")&&(a.link=v.object.value)},t,null,null),b.value.push(a)},p(e.value.iri),p(r("skos:member"))),m.rightNavConfig={enabled:!0,profiles:N,currentUrl:h.path},document.title=`${e.value.title} | Prez`,m.pageHeading={name:"VocPrez",url:"/v"},m.breadcrumbs=[{name:"VocPrez",url:"/v"},{name:"Collections",url:"/v/collection"},{name:e.value.title,url:h.path}]})}),(d,t)=>(l(),i(_,null,[o("h1",null,n(e.value.title),1),o("p",null,[u("Instance IRI: "),o("a",{href:e.value.iri,target:"_blank",rel:"noopener noreferrer"},[u(n(e.value.iri)+" ",1),W],8,K)]),e.value.description?(l(),i("p",X,n(e.value.description),1)):y("",!0),k.value.length>0?(l(),C(J,{key:1,properties:k.value,prefixes:f(S),hiddenPreds:z},{bottom:j(()=>[o("tr",null,[Y,o("td",null,[o("div",Z,[(l(!0),i(_,null,H(b.value,a=>(l(),C(M(a.link?d.RouterLink:"a"),{to:a.link||"",href:a.link?"":a.iri,target:a.link?"":"_blank"},{default:j(()=>[u(n(a.title||a.iri),1)]),_:2},1032,["to","href","target"]))),256))])])])]),_:1},8,["properties","prefixes"])):f(P)?(l(),i(_,{key:2},[u("loading...")],64)):f(w)?(l(),i(_,{key:3},[u("Network error: "+n(f(w)),1)],64)):y("",!0)],64))}});const ae=A(q,[["__scopeId","data-v-52c24ae9"]]);export{ae as default};
