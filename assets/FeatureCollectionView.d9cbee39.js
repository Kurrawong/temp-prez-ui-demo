import{d as S,i as $,u as j,k as B,j as P,r as g,o as D,a as s,c as i,b as r,t as u,l as o,g as _,f as V,w as b,e as l,F as f,D as z,m as U,x as E,z as L}from"./index.9979b90b.js";import{P as M}from"./PropTable.da6ffa9f.js";const T=["href"],G=r("i",{class:"fa-regular fa-arrow-up-right-from-square"},null,-1),H={key:0},Q=r("th",null,"Members",-1),O=S({__name:"FeatureCollectionView",setup(A){const{namedNode:h}=z,w=$("config").apiBaseUrl,a=U(),c=j(),{store:d,prefixes:k,parseIntoStore:x,qname:n}=B(),{data:C,profiles:y,loading:I,error:v,doRequest:F}=P(),N=["http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://purl.org/dc/terms/identifier","http://purl.org/dc/terms/description","http://purl.org/dc/terms/title","http://www.w3.org/2000/01/rdf-schema#member"],p=g([]),e=g({});return D(()=>{F(`${w}/s/datasets/${a.params.datasetId}/collections/${a.params.featureCollectionId}`,()=>{x(C.value);const m=d.value.getSubjects(h(n("a")),h(n("geo:FeatureCollection")))[0];e.value.iri=m.id,d.value.forEach(t=>{t.predicate.value===n("dcterms:title")?e.value.title=t.object.value:t.predicate.value===n("dcterms:description")&&(e.value.description=t.object.value),t.predicate.annotations=d.value.getQuads(t.predicate,null,null),p.value.push(t)},m,null,null),c.rightNavConfig={enabled:!0,profiles:y,currentUrl:a.path},document.title=`${e.value.title} | Prez`,c.pageHeading={name:"SpacePrez",url:"/s"},c.breadcrumbs=[{name:"SpacePrez",url:"/s"},{name:"Datasets",url:"/s/datasets"},{name:"Dataset",url:`/s/datasets/${a.params.datasetId}`},{name:"Feature Collections",url:`/s/datasets/${a.params.datasetId}/collections`},{name:e.value.title,url:a.path}]})}),(m,t)=>{const R=L("RouterLink");return s(),i(f,null,[r("h1",null,u(e.value.title),1),r("p",null,[o("Instance IRI: "),r("a",{href:e.value.iri,target:"_blank",rel:"noopener noreferrer"},[o(u(e.value.iri)+" ",1),G],8,T)]),e.value.description?(s(),i("p",H,u(e.value.description),1)):_("",!0),p.value.length>0?(s(),V(M,{key:1,properties:p.value,prefixes:l(k),hiddenPreds:N},{bottom:b(()=>[r("tr",null,[Q,r("td",null,[E(R,{to:`${l(a).path}/items`,class:"btn"},{default:b(()=>[o("Features")]),_:1},8,["to"])])])]),_:1},8,["properties","prefixes"])):l(I)?(s(),i(f,{key:2},[o("loading...")],64)):l(v)?(s(),i(f,{key:3},[o("Network error: "+u(l(v)),1)],64)):_("",!0)],64)}}});export{O as default};
